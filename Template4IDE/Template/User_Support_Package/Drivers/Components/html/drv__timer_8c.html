<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: drv_timer.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">drv_timer.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>: Code for Timer Management in STM32F4 using STM32Cube_FW_F4_V1.23.0.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;assert.h&quot;</code><br />
<code>#include &quot;<a class="el" href="drv__timer_8h_source.html">drv_timer.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7b8ab79df77b57475a5494f5f81c3bd9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drv__timer_8c.html#a7b8ab79df77b57475a5494f5f81c3bd9">timer_init</a> (void)</td></tr>
<tr class="memdesc:a7b8ab79df77b57475a5494f5f81c3bd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize Timer.  <a href="#a7b8ab79df77b57475a5494f5f81c3bd9">More...</a><br /></td></tr>
<tr class="separator:a7b8ab79df77b57475a5494f5f81c3bd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3107a819bb0de75941b4b2fbe8abff3"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drv__timer_8c.html#aa3107a819bb0de75941b4b2fbe8abff3">Get_SysterTimer</a> (void)</td></tr>
<tr class="memdesc:aa3107a819bb0de75941b4b2fbe8abff3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the system tick from timer.  <a href="#aa3107a819bb0de75941b4b2fbe8abff3">More...</a><br /></td></tr>
<tr class="separator:aa3107a819bb0de75941b4b2fbe8abff3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57c68344db0b20d01cdbbe0a339a2146"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drv__timer_8c.html#a57c68344db0b20d01cdbbe0a339a2146">delay_us_nos</a> (uint32_t cnt)</td></tr>
<tr class="memdesc:a57c68344db0b20d01cdbbe0a339a2146"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delay for us.  <a href="#a57c68344db0b20d01cdbbe0a339a2146">More...</a><br /></td></tr>
<tr class="separator:a57c68344db0b20d01cdbbe0a339a2146"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e9c7da748ecd9be44d4857bd849df9f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drv__timer_8c.html#a6e9c7da748ecd9be44d4857bd849df9f">delay_ms_nos</a> (uint32_t cnt)</td></tr>
<tr class="memdesc:a6e9c7da748ecd9be44d4857bd849df9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delay for ms.  <a href="#a6e9c7da748ecd9be44d4857bd849df9f">More...</a><br /></td></tr>
<tr class="separator:a6e9c7da748ecd9be44d4857bd849df9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1d8db75c42f2584cc0b79c6b3bba1593"><td class="memItemLeft" align="right" valign="top"><a id="a1d8db75c42f2584cc0b79c6b3bba1593"></a>
volatile uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>SystemTimerCnt</b></td></tr>
<tr class="separator:a1d8db75c42f2584cc0b79c6b3bba1593"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>: Code for Timer Management in STM32F4 using STM32Cube_FW_F4_V1.23.0. </p>
<p>Copyright (c) 2019 - ~, SCUT-RobotLab Development Team</p>
<dl class="section author"><dt>Author</dt><dd>: Mentos_Seetoo <a href="#" onclick="location.href='mai'+'lto:'+'135'+'60'+'469'+'79'+'@qq'+'.c'+'om'; return false;">13560<span style="display: none;">.nosp@m.</span>4697<span style="display: none;">.nosp@m.</span>9@qq.<span style="display: none;">.nosp@m.</span>com</a> </dd></dl>
<dl class="section date"><dt>Date</dt><dd>: 2019-06-12 ： Date Author Version Notes <h1>2019-06-12 Mentos Seetoo 1.0.0 Creator </h1>
</dd></dl>
<h1>##### How to use this driver ##### </h1>
<p>: 1.配置TIM4自增时间为1us，在TIM4中断中加入SystemTimerCnt++ 2.可用宏定义常用的delay_ms()为其他函数而使用本模块的函数实现，如HAL_Delay()等</p>
<p>: 1.调用相关延时函数</p>
<dl class="section warning"><dt>Warning</dt><dd>: 1.配合实验室硬件设计,一般使用TIM4为其他任务提供精确定时(us,ms)，如遇到特殊情况 需要更改配置，请自行更改有关内容。 2.由于本模块运行基于STM32CubeMX生成的代码，所以头文件extern部分常用固定的结构体 名称,也方便其他地方调用。如果需要更改配置的定时器，请自行在头文件extern相应的 结构体,并添加相应的宏定义。</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd></dd></dl>
<p>if you had modified this file, please make sure your code does not have many bugs, update the version NO., write dowm your name and the date, the most important is make sure the users will have clear and definite understanding through your new brief. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a6e9c7da748ecd9be44d4857bd849df9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e9c7da748ecd9be44d4857bd849df9f">&#9670;&nbsp;</a></span>delay_ms_nos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void delay_ms_nos </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>cnt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delay for ms. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cnt</td><td>: millisecond to delay </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a57c68344db0b20d01cdbbe0a339a2146"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57c68344db0b20d01cdbbe0a339a2146">&#9670;&nbsp;</a></span>delay_us_nos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void delay_us_nos </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>cnt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delay for us. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cnt</td><td>: microsecond to delay </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa3107a819bb0de75941b4b2fbe8abff3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3107a819bb0de75941b4b2fbe8abff3">&#9670;&nbsp;</a></span>Get_SysterTimer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t Get_SysterTimer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the system tick from timer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>current tick. </dd></dl>

</div>
</div>
<a id="a7b8ab79df77b57475a5494f5f81c3bd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b8ab79df77b57475a5494f5f81c3bd9">&#9670;&nbsp;</a></span>timer_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timer_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize Timer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
