<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: drv_uart.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">drv_uart.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>CCode for UART driver in STM32F4 using STM32Cube_FW_F4_V1.24.0.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="drv__uart_8h_source.html">drv_uart.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9edc11d88c913742e9aee226104d1bfa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drv__uart_8c.html#a9edc11d88c913742e9aee226104d1bfa">Uart_Init</a> (UART_HandleTypeDef *huart, uint8_t *Rxbuffer, uint32_t length)</td></tr>
<tr class="memdesc:a9edc11d88c913742e9aee226104d1bfa"><td class="mdescLeft">&#160;</td><td class="mdescRight">initialize uart device  <a href="#a9edc11d88c913742e9aee226104d1bfa">More...</a><br /></td></tr>
<tr class="separator:a9edc11d88c913742e9aee226104d1bfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45afddb39471b4c39443652bc5ec2c09"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drv__uart_8c.html#a45afddb39471b4c39443652bc5ec2c09">Usart_Rx_Callback_Register</a> (<a class="el" href="structusart__manage__obj__t.html">usart_manage_obj_t</a> *m_obj, usart_call_back fun)</td></tr>
<tr class="memdesc:a45afddb39471b4c39443652bc5ec2c09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registered user callback function.  <a href="#a45afddb39471b4c39443652bc5ec2c09">More...</a><br /></td></tr>
<tr class="separator:a45afddb39471b4c39443652bc5ec2c09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0641e112791fc9a7f11a9187178a202a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drv__uart_8c.html#a0641e112791fc9a7f11a9187178a202a">Uart_Receive_Handler</a> (<a class="el" href="structusart__manage__obj__t.html">usart_manage_obj_t</a> *m_obj)</td></tr>
<tr class="memdesc:a0641e112791fc9a7f11a9187178a202a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if the idle interrupt is triggered.  <a href="#a0641e112791fc9a7f11a9187178a202a">More...</a><br /></td></tr>
<tr class="separator:a0641e112791fc9a7f11a9187178a202a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:acd654858c8b3a685740891ec61f3aca7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structusart__manage__obj__t.html">usart_manage_obj_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>usart4_manage_obj</b></td></tr>
<tr class="separator:acd654858c8b3a685740891ec61f3aca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5b9ed3d41b7d883843f43fbb583027d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structusart__manage__obj__t.html">usart_manage_obj_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>usart5_manage_obj</b></td></tr>
<tr class="separator:ac5b9ed3d41b7d883843f43fbb583027d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c74408a57b5b5522e700471d964eda5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structusart__manage__obj__t.html">usart_manage_obj_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>usart1_manage_obj</b></td></tr>
<tr class="separator:a5c74408a57b5b5522e700471d964eda5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab69ddeb030e922b0a448535898d63c48"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structusart__manage__obj__t.html">usart_manage_obj_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>usart2_manage_obj</b></td></tr>
<tr class="separator:ab69ddeb030e922b0a448535898d63c48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7216193bd7cb62b397a55b7cd2359092"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structusart__manage__obj__t.html">usart_manage_obj_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>usart3_manage_obj</b></td></tr>
<tr class="separator:a7216193bd7cb62b397a55b7cd2359092"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af292c8f5e5c33258291438903c7191ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structusart__manage__obj__t.html">usart_manage_obj_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>usart6_manage_obj</b></td></tr>
<tr class="separator:af292c8f5e5c33258291438903c7191ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>CCode for UART driver in STM32F4 using STM32Cube_FW_F4_V1.24.0. </p>
<p>Copyright (c) 2019 - ~, SCUT-RobotLab Development Team</p>
<dl class="section author"><dt>Author</dt><dd>LWJ <a href="#" onclick="location.href='mai'+'lto:'+'851'+'75'+'689'+'0@'+'qq.'+'co'+'m'; return false;">85175<span style="display: none;">.nosp@m.</span>6890<span style="display: none;">.nosp@m.</span>@qq.c<span style="display: none;">.nosp@m.</span>om</a> </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2019-06-12 </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.1 </dd></dl>
<dl class="section user"><dt>Change Log：</dt><dd><table class="doxtable">
<tr>
<th>Date </th><th>Version </th><th>Author </th><th>Description </th></tr>
<tr>
<td>2019-06-12 </td><td>1.0 </td><td>charlie </td><td>Creator </td></tr>
<tr>
<td>2019-10-28 </td><td>1.1 </td><td>LWJ </td><td>Remove the precompiled macro<br />
 Remove receive buffer<br />
 Add user specific buffer. </td></tr>
</table>
<hr/>
 <h1>##### How to use this driver ##### </h1>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ol type="1">
<li>调用<code><a class="el" href="drv__uart_8c.html#a9edc11d88c913742e9aee226104d1bfa" title="initialize uart device ">Uart_Init()</a></code>，传入串口对象句柄地址，缓冲数组首地址，数组长度，初始化<br />
 串口。</li>
<li>调用<code><a class="el" href="drv__uart_8c.html#a45afddb39471b4c39443652bc5ec2c09" title="Registered user callback function. ">Usart_Rx_Callback_Register()</a></code>设置串口接收中断回调函数的指针。</li>
<li>在<code>stm32f4xx_it.c</code>对应的串口中断里面加入<code><a class="el" href="drv__uart_8c.html#a0641e112791fc9a7f11a9187178a202a" title="Determine if the idle interrupt is triggered. ">Uart_Receive_Handler()</a></code>，注意<br />
 使用头文件extern的结构体。</li>
<li>在需要用到发送的部分直接调用HAL_UART_Transmit_DMA()函数。</li>
</ol>
</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>:<ol type="1">
<li>用户需要自己定义缓存数组并初始化数组，数组类型为uint8_t。</li>
<li>添加预编译宏<code>NDEBUG</code>可以禁用断言检查。</li>
</ol>
</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd></dd></dl>
<p>if you had modified this file, please make sure your code does not have many bugs, update the version Number, write dowm your name and the date, the most important is make sure the users will have clear and definite understanding through your new brief.</p>
<h2><center>&copy; Copyright (c) 2019 - ~, SCUT-RobotLab Development Team. All rights reserved.</center></h2>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a9edc11d88c913742e9aee226104d1bfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9edc11d88c913742e9aee226104d1bfa">&#9670;&nbsp;</a></span>Uart_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Uart_Init </td>
          <td>(</td>
          <td class="paramtype">UART_HandleTypeDef *&#160;</td>
          <td class="paramname"><em>huart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>Rxbuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>initialize uart device </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*huart</td><td>uart IRQHandler </td></tr>
    <tr><td class="paramname">Rxbuffer</td><td>user buffer array </td></tr>
    <tr><td class="paramname">length</td><td>the length of array </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0641e112791fc9a7f11a9187178a202a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0641e112791fc9a7f11a9187178a202a">&#9670;&nbsp;</a></span>Uart_Receive_Handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Uart_Receive_Handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structusart__manage__obj__t.html">usart_manage_obj_t</a> *&#160;</td>
          <td class="paramname"><em>m_obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if the idle interrupt is triggered. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m_obj</td><td>serial port handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a45afddb39471b4c39443652bc5ec2c09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45afddb39471b4c39443652bc5ec2c09">&#9670;&nbsp;</a></span>Usart_Rx_Callback_Register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Usart_Rx_Callback_Register </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structusart__manage__obj__t.html">usart_manage_obj_t</a> *&#160;</td>
          <td class="paramname"><em>m_obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">usart_call_back&#160;</td>
          <td class="paramname"><em>fun</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registered user callback function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m_obj</td><td>serial port handle </td></tr>
    <tr><td class="paramname">fun</td><td>user callback function </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a5c74408a57b5b5522e700471d964eda5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c74408a57b5b5522e700471d964eda5">&#9670;&nbsp;</a></span>usart1_manage_obj</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structusart__manage__obj__t.html">usart_manage_obj_t</a> usart1_manage_obj</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">        {</div><div class="line">            .call_back_f = NULL}</div></div><!-- fragment -->
</div>
</div>
<a id="ab69ddeb030e922b0a448535898d63c48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab69ddeb030e922b0a448535898d63c48">&#9670;&nbsp;</a></span>usart2_manage_obj</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structusart__manage__obj__t.html">usart_manage_obj_t</a> usart2_manage_obj</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">        {</div><div class="line">            .call_back_f = NULL}</div></div><!-- fragment -->
</div>
</div>
<a id="a7216193bd7cb62b397a55b7cd2359092"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7216193bd7cb62b397a55b7cd2359092">&#9670;&nbsp;</a></span>usart3_manage_obj</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structusart__manage__obj__t.html">usart_manage_obj_t</a> usart3_manage_obj</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">        {</div><div class="line">                .call_back_f = NULL}</div></div><!-- fragment -->
</div>
</div>
<a id="acd654858c8b3a685740891ec61f3aca7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd654858c8b3a685740891ec61f3aca7">&#9670;&nbsp;</a></span>usart4_manage_obj</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structusart__manage__obj__t.html">usart_manage_obj_t</a> usart4_manage_obj</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">    {</div><div class="line">            .call_back_f = NULL}</div></div><!-- fragment -->
</div>
</div>
<a id="ac5b9ed3d41b7d883843f43fbb583027d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5b9ed3d41b7d883843f43fbb583027d">&#9670;&nbsp;</a></span>usart5_manage_obj</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structusart__manage__obj__t.html">usart_manage_obj_t</a> usart5_manage_obj</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">{</div><div class="line">        .call_back_f = NULL}</div></div><!-- fragment -->
</div>
</div>
<a id="af292c8f5e5c33258291438903c7191ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af292c8f5e5c33258291438903c7191ae">&#9670;&nbsp;</a></span>usart6_manage_obj</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structusart__manage__obj__t.html">usart_manage_obj_t</a> usart6_manage_obj</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">        {</div><div class="line">                .call_back_f = NULL}</div></div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
